\section{Meilenstein 4 $-$ Microservices}

% Teilaufgabe 1 {{{
\subsection{Teilaufgabe 1: Context Map}

\textbf{Anmerkung:} im Folgenden ist der Ausdruck Subsytem
equivalent zum Ausdruck Dom\"ane.

% Map {{{
\subsubsection{Context Map}
\input{ms4/context_map}
% }}}

% Tabelle {{{
\subsubsection{Tabelle der \"Uberlappungstypen}

\begin{tabu} to \linewidth {p{1.8cm}|p{2.2cm}|X|X}
% Headerzeile {{{
\hline\rowcolor{codebordercolor}
Entity &\"Uberlappung mit anderer Dom\"ane
  &\"Uberlappungstyp &Begr\"undung \\
% }}}
% Bestellung {{{
\hline
Bestellung &Buchhaltung &Conformist (unser Subsystem als
  Eigent\"umer) &Die Buchhaltung ruft die Bestellungsdaten
  bei uns ab. Hier wurde Conformist anstelle von Customer /
  Suplier gew\"ahlt, da es sich bei dem Buchhaltungssystem
  wahrscheinlich nicht um eine Hausentwicklung handelt,
  sondern um ein propriet\"ares System mit unbekannten
  Schnittstellen, weshalb eine Zusammenarbeit auf
  Augenh\"ohe nicht unbedingt m\"oglich ist. \\
% }}}
% Gericht {{{
\hline
Gericht &Rezeptver\-waltung &Customer / Suplier
  (Rezeptverwaltung als Eigent\"umer) &Wir rufen
  die Gerichte beim Subsystem Rezeptverwaltung ab. Das
  Subsystem Rezeptverwaltung ist der Eigent\"umer und wir
  haben (brauchen) nur lesenden Zugriff auf das Entity
  Gericht. Customer / Suplier, da wir auf Augenh\"ohe mit
  der Rezeptverwaltung sind uns eine enge Zusammenarbeit
  m\"oglich ist. \\
% }}}
% Speisekarte {{{
\hline
Speisekar\-te &Rezeptver\-waltung &Customer / Suplier
  (Rezeptverwaltung als Eigent\"umer) &vgl. Entity Gericht.
  \\
% }}}
% Zubereitungsanleitung {{{
\hline
Zuberei\-tungsanlei\-tung &Rezeptver\-waltung &
  Customer / Suplier (Rezeptverwaltung als Eigent\"umer)
  &vgl. Entity Gericht. \\
% }}}
% Zutat {{{
\hline
Zutat &Lagerver\-waltung &Customer / Suplier
  (Lagerverwaltung als Eigent\"umer) &Zutat ist in unserem
  Fall einfach die Menge der Zutat, welche im Lager
  zur Verf\"ugung steht und wird mit der Lagerverwaltung
  abgeglichen. Zutat verh\"alt sich analog zu Gericht. \\
% }}}
% Zutatenposition {{{
\hline
Zutaten\-position &Rezeptver\-waltung &Customer / Suplier
  (Rezeptverwaltung als Eigent\"umer) &vgl. Entity Gericht.
  \\
% }}}
\hline
\end{tabu}
% }}}
% }}}

% Teilaufgabe 2 {{{
\subsection{Teilaufgabe 2: Aggregates}

Im Folgenden beziehen wir uns auf unsere Aggregates aus
Kapitel \ref{ms3_aggregates}. Die einzige Unterscheidung zu
diesem Aggregate ist, dass wir die redundante Entity Speise
(in Kapitel \ref{ldm} dem Klassendiagramm des logischen
Datenmodells hinzugef\"ugt, um die Aufgabenstellung zu
erf\"ullen) entfernen und das Attribut $Speise.name$ in
$Zubereitungsanleitung.name$ \"uberf\"uhren.

\begin{center}
% Tabelle {{{
\begin{tabu} to \linewidth {p{3cm}|X|X|X}
% Headerzeile {{{
\hline\rowcolor{codebordercolor}
Aggregate Root &Weitere beteiligte Entities &Invarianten
  &Begr\"undung, dass das ein Aggregate ist \\
% }}}
% Gericht {{{
\hline
Gericht &Zubereitungsanleitung, Zutatenposition, Zutat
  &\textit{Gericht.name} wird aus
  \textit{Zubereitungsanleitung.name}
  zusammengesetzt (Schnitzel, Pommes, Salat $\Rightarrow$
  \textit{Gericht.name} = Schnitzel mit Pommes und Salat)
  &vgl. \ref{ms3_aggregates} \\
% }}}
\hline
\end{tabu}
% }}}
\end{center}
% }}}

\subsection{Teilaufgabe 3: Microservice-Architektur}

\subsubsection{Servicetabelle}

% Tabelle {{{
\begin{tabu} to \linewidth {X|X|X}
% Headerzeile {{{
\hline\rowcolor{codebordercolor}
Service &Bildet ab &Kommentar \\
% }}}
% Bestellung {{{
\hline
Bestellungsdaten &Bestellung &Dient als API Gateway, da
  unser Subsystem ein Supplier f\"ur die Bestelldaten ist.
  \\
% }}}
% Gericht {{{
\hline
Gerichtsdaten &Gericht (vgl. \ref{ms3_aggregates})
  &Adapterservice, da unser Subsystem ein Customer f\"ur
  die Gerichtsdaten ist.\\
% }}}
% Speisekarte {{{
\hline
Speisekartendaten &Speisekarte &Adapterservice, da unser
  Subsystem ein Customer f\"ur die Speisekartendaten ist.\\
% }}}
% Restaurant {{{
\hline
Restaurantdaten &Sitzplatz, Arbeitsplatz &Service der die
  Sitz- und Arbeitspl\"atze der Standorte verwaltet. \\
% }}}
% Gast-UI {{{
\hline
Gast-UI & &UI-Service f\"ur den Gast. Hier wird unserer
  Meinung nach kein API Gateway ben\"otigt, da das UI nur
  Daten aus dem Speisekartendaten-Service ben\"otigt und
  Bestellungen an den Bestellungsdaten-Service schickt,
  was weder eine besondere Darstellung der Daten ist, noch
  als viele verschiedene Aufrufe zu charakterisieren
  w\"are. \\
% }}}
% Koch-UI {{{
\hline
Koch-UI & &UI-Service f\"ur den Koch. Hier wird unserer
  Meinung nach kein API Gateway ben\"otigt, da nur Daten
  aus dem Gerichtsdaten-Service abgerufen werden m\"ussen.
  \\
% }}}
\hline
\end{tabu}
% }}}

\subsubsection{Komponentendiagramm}
\input{ms4/compo}
